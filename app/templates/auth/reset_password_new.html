{% extends "base.html" %}
{% block title %}Set New Password | PhysiHome{% endblock %}
{% block content %}
<section class="auth-card card">
  <header class="auth-header">
    <h1>Choose a new password</h1>
    <p>Set a strong password for <strong>{{ email }}</strong>.</p>
  </header>

  {% if error %}
  <div class="alert error">{{ error }}</div>
  {% endif %}

  <form class="stack" method="post" action="/api/auth/reset-password">
    <input type="hidden" name="email" value="{{ email }}" />
    <label>
      New password
      <div style="position:relative;">
        <input
          type="password"
          name="password"
          placeholder="Create a strong password"
          autocomplete="new-password"
          required
          minlength="8"
        />
        <button type="button" onclick="togglePassword(this.previousElementSibling)" style="position:absolute; right:10px; top:50%; transform:translateY(-50%); background:none; border:none; font-size:1.2rem; cursor:pointer;">üëÅ</button>
      </div>
    </label>
    <button class="btn primary" type="submit">Update password</button>
  </form>

  <p class="small">
    Back to
    <a href="/login">login</a>
  </p>
</section>
{% endblock %}
